<!DOCTYPE html>
<html lang="de">
<head>
	<meta charset="utf-8">
	<title>Film-Titel | MEGAKino</title>
	<meta name="description" content="Film-Beschreibung auf MEGAKino anschauen.">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="theme-color" content="#ff6b35">
	<link rel="shortcut icon" href="/templates/popcornie-dark/images/favicon.svg">
	<link href="/templates/popcornie-dark/css/fontawesome.css" type="text/css" rel="stylesheet">
	<style>
		* { margin: 0; padding: 0; box-sizing: border-box; }

		:root {
			--primary: #ff6b35;
			--secondary: #ffb84d;
			--dark: #0a0a0a;
			--dark-2: #1a1a1a;
			--dark-3: #2d2d2d;
			--dark-4: #3a3a3a;
			--text: #e0e0e0;
			--text-2: #a0a0a0;
			--border: #4a4a4a;
		}

		html, body { width: 100%; height: 100%; }
		body {
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			background: var(--dark);
			color: var(--text);
			line-height: 1.6;
		}

		a { color: inherit; text-decoration: none; }
		a:hover { color: var(--primary); }

		/* HEADER */
		header {
			background: var(--dark-2);
			border-bottom: 1px solid var(--border);
			padding: 15px 30px;
			position: sticky;
			top: 0;
			z-index: 100;
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 20px;
		}

		.logo {
			display: flex;
			align-items: center;
			gap: 10px;
			font-weight: bold;
			font-size: 20px;
		}

		.logo span { color: var(--primary); font-size: 24px; }

		nav {
			display: flex;
			gap: 30px;
			margin-left: auto;
		}

		nav a {
			color: var(--text);
			transition: 0.3s;
			display: flex;
			align-items: center;
			gap: 8px;
		}

		nav a:hover { color: var(--primary); }

		.container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }

		/* BREADCRUMB */
		.breadcrumb {
			padding: 15px 0;
			font-size: 12px;
			color: var(--text-2);
			border-bottom: 1px solid var(--border);
		}

		.breadcrumb a { color: var(--primary); margin: 0 5px; }

		/* MOVIE HEADER */
		.movie-header {
			padding: 40px 0;
			display: grid;
			grid-template-columns: 280px 1fr;
			gap: 40px;
			align-items: start;
		}

		.movie-poster {
			position: relative;
			border-radius: 10px;
			overflow: hidden;
			box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
		}

		.movie-poster img {
			width: 100%;
			height: auto;
			display: block;
		}

		.movie-info h1 {
			font-size: 32px;
			margin-bottom: 10px;
		}

		.movie-meta {
			display: flex;
			align-items: center;
			gap: 15px;
			margin-bottom: 20px;
			flex-wrap: wrap;
		}

		.movie-year {
			color: var(--text-2);
			font-size: 14px;
		}

		.movie-rating {
			background: var(--primary);
			color: #000;
			padding: 5px 12px;
			border-radius: 20px;
			font-weight: bold;
			font-size: 12px;
		}

		.movie-genres {
			display: flex;
			gap: 10px;
			flex-wrap: wrap;
			margin-bottom: 20px;
		}

		.genre-tag {
			background: var(--dark-3);
			border: 1px solid var(--border);
			padding: 5px 12px;
			border-radius: 20px;
			font-size: 12px;
		}

		.movie-description {
			color: var(--text-2);
			line-height: 1.8;
			margin-bottom: 25px;
			font-size: 14px;
		}

		.movie-details {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			gap: 20px;
			margin-bottom: 25px;
			font-size: 13px;
		}

		.detail-item {
			display: flex;
			flex-direction: column;
		}

		.detail-label {
			color: var(--text-2);
			margin-bottom: 5px;
			font-size: 12px;
		}

		.detail-value {
			color: var(--text);
			font-weight: 500;
		}

		.btn-play {
			background: linear-gradient(90deg, var(--primary), var(--secondary));
			color: #000;
			border: none;
			padding: 15px 40px;
			border-radius: 5px;
			cursor: pointer;
			font-size: 16px;
			font-weight: 600;
			display: inline-flex;
			align-items: center;
			gap: 10px;
			transition: 0.3s;
			width: 100%;
			justify-content: center;
		}

		.btn-play:hover {
			transform: translateY(-2px);
			box-shadow: 0 5px 20px rgba(255, 107, 53, 0.4);
		}

		/* SECTIONS */
		section {
			margin-bottom: 50px;
			padding: 40px 0;
			border-top: 1px solid var(--border);
		}

		section h2 {
			font-size: 20px;
			margin-bottom: 20px;
			display: flex;
			align-items: center;
			gap: 10px;
		}

		/* DESCRIPTION */
		.description-section {
			display: grid;
			grid-template-columns: 2fr 1fr;
			gap: 40px;
		}

		.description-text {
			font-size: 14px;
			line-height: 1.8;
			color: var(--text-2);
		}

		.description-text p {
			margin-bottom: 15px;
		}

		.info-box {
			background: var(--dark-3);
			border-left: 4px solid var(--primary);
			padding: 15px;
			border-radius: 5px;
			font-size: 13px;
		}

		.info-box i { color: var(--primary); margin-right: 10px; }

		/* PLAYER */
		.player-section {
			background: var(--dark-3);
			padding: 20px;
			border-radius: 10px;
			margin-bottom: 30px;
		}

		.player-container {
			position: relative;
			width: 100%;
			padding-bottom: 56.25%;
			height: 0;
			overflow: hidden;
			border-radius: 5px;
		}

		.player-container video,
		.player-container iframe {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
		}

		/* RELATED MOVIES */
		.related-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
			gap: 20px;
		}

		.related-card {
			border-radius: 8px;
			overflow: hidden;
			cursor: pointer;
			transition: 0.3s;
		}

		.related-card img {
			width: 100%;
			height: 220px;
			object-fit: cover;
			display: block;
		}

		.related-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 10px 30px rgba(255, 107, 53, 0.3);
		}

		.related-info {
			padding: 10px;
			background: var(--dark-3);
			font-size: 12px;
		}

		.related-title { margin-bottom: 5px; }
		.related-rating { color: var(--primary); font-weight: bold; }

		/* COMMENTS */
		.comments-section {
			max-width: 600px;
		}

		.comment-form {
			display: flex;
			gap: 10px;
			margin-bottom: 30px;
		}

		.comment-form textarea {
			flex: 1;
			background: var(--dark-3);
			border: 1px solid var(--border);
			color: var(--text);
			padding: 12px;
			border-radius: 5px;
			resize: vertical;
			min-height: 80px;
			outline: none;
		}

		.comment-form textarea:focus {
			border-color: var(--primary);
		}

		.comment-form button {
			background: var(--primary);
			color: #000;
			border: none;
			padding: 10px 25px;
			border-radius: 5px;
			cursor: pointer;
			font-weight: bold;
			white-space: nowrap;
		}

		.comment-form button:hover {
			opacity: 0.9;
		}

		.comment-item {
			padding: 15px;
			background: var(--dark-3);
			border-radius: 5px;
			margin-bottom: 15px;
			border-left: 3px solid var(--primary);
		}

		.comment-author {
			font-weight: bold;
			margin-bottom: 5px;
			display: flex;
			align-items: center;
			gap: 10px;
		}

		.comment-time {
			font-size: 11px;
			color: var(--text-2);
		}

		.comment-text {
			font-size: 13px;
			line-height: 1.6;
		}

		/* FOOTER */
		footer {
			background: var(--dark-2);
			border-top: 1px solid var(--border);
			padding: 40px 0;
		}

		.footer-bottom {
			text-align: center;
			font-size: 12px;
			color: var(--text-2);
		}

		/* RESPONSIVE */
		@media (max-width: 768px) {
			header {
				flex-direction: column;
				gap: 15px;
			}

			nav {
				width: 100%;
				margin-left: 0;
				flex-wrap: wrap;
				justify-content: center;
				gap: 15px;
			}

			.movie-header {
				grid-template-columns: 1fr;
			}

			.movie-info h1 { font-size: 24px; }

			.description-section {
				grid-template-columns: 1fr;
			}

			.movie-details {
				grid-template-columns: 1fr;
			}

			.related-grid {
				grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
			}
		}
	</style>
</head>
<body>
	<!-- HEADER -->
	<header>
		<a href="/megakino-new.html" class="logo">
			<span class="fal fa-play"></span>
			<div>MEGAKINO</div>
		</a>
		<nav>
			<a href="/megakino-new.html"><span class="fal fa-home"></span>Home</a>
			<a href="/megakino-new.html#allMoviesGrid"><span class="fal fa-fire"></span>Alle Filme</a>
			<a href="/watchlist.html"><span class="fal fa-bookmark"></span>Watchlist</a>
		</nav>
	</header>

	<!-- BREADCRUMB -->
	<div class="container">
		<div class="breadcrumb">
			<a href="/megakino-new.html">Home</a> / <a href="/megakino-new.html">Filme</a> / <span id="breadcrumbTitle">Film-Titel</span>
		</div>
	</div>

	<main class="container">
		<!-- MOVIE HEADER -->
		<div class="movie-header" id="movieHeaderContainer"></div>

		<!-- DESCRIPTION SECTION -->
		<section>
			<h2><span class="fal fa-align-left"></span>Inhaltsangabe</h2>
			<div class="description-section">
				<div class="description-text" id="descriptionContent"></div>
				<div id="infoBoxContent"></div>
			</div>
		</section>

		<!-- PLAYER SECTION -->
		<section id="playerSection">
			<h2><span class="fal fa-play-circle"></span>Film anschauen</h2>
			<div class="player-section">
				<div class="player-container" id="playerContent"></div>
			</div>
		</section>

		<!-- RELATED MOVIES -->
		<section>
			<h2><span class="fal fa-film"></span>Ähnliche Filme</h2>
			<div class="related-grid" id="relatedMovies"></div>
		</section>

		<!-- COMMENTS SECTION -->
		<section>
			<h2><span class="fal fa-comments"></span>Kommentare</h2>
			<div class="comments-section">
				<div class="comment-form">
					<textarea placeholder="Schreibe einen Kommentar..."></textarea>
					<button>Senden</button>
				</div>
				<div id="commentsContainer"></div>
			</div>
		</section>
	</main>

	<!-- FOOTER -->
	<footer>
		<div class="container">
			<div class="footer-bottom">
				<p>&copy; 2026 MEGAKINO. Alle Rechte vorbehalten. | <a href="#">Datenschutz</a> | <a href="#">Nutzungsbedingungen</a></p>
			</div>
		</div>
	</footer>

	<script src="/js/megakino-db.js"></script>
	<script>
		// Hole die Film-ID aus der URL
		function getMovieIdFromURL() {
			const path = window.location.pathname;
			if (path.includes('werwolfe-duesterwald')) return 1;
			if (path.includes('checkertobi3')) return 2;
			return null;
		}

		const movieId = getMovieIdFromURL();

		document.addEventListener('DOMContentLoaded', () => {
			if (movieId) {
				const movie = MEGAKINO_MOVIES.find(m => m.id === movieId);
				if (movie) {
					renderMoviePage(movie);
				}
			}
		});

		function renderMoviePage(movie) {
			// Breadcrumb
			document.getElementById('breadcrumbTitle').textContent = movie.title;

			// Movie Header
			const headerHTML = `
				<div class="movie-poster">
					<img src="${movie.cover || movie.image}" alt="${movie.title}">
				</div>
				<div class="movie-info">
					<h1>${movie.title}</h1>
					
					<div class="movie-meta">
						<span class="movie-year">${movie.year}</span>
						<span class="movie-rating">⭐ ${movie.rating}</span>
					</div>

					<div class="movie-genres">
						${movie.genres.map(g => `<span class="genre-tag">${g}</span>`).join('')}
					</div>

					<p class="movie-description">${movie.description}</p>

					<div class="movie-details">
						<div class="detail-item">
							<span class="detail-label">Regie</span>
							<span class="detail-value">${movie.director}</span>
						</div>
						<div class="detail-item">
							<span class="detail-label">Besetzung</span>
							<span class="detail-value">${movie.cast}</span>
						</div>
						<div class="detail-item">
							<span class="detail-label">Type</span>
							<span class="detail-value">${movie.type}</span>
						</div>
						<div class="detail-item">
							<span class="detail-label">Rating</span>
							<span class="detail-value">${movie.rating_count || 'N/A'} Bewertungen</span>
						</div>
					</div>

					<button class="btn-play" onclick="scrollToPlayer()">
						<span class="fal fa-play"></span> Stream anschauen
					</button>
				</div>
			`;
			document.getElementById('movieHeaderContainer').innerHTML = headerHTML;

			// Description
			const descHTML = `
				<p>${movie.longDescription || movie.description}</p>
				<p>Ein großartiger Film, den du dir nicht entgehen lassen solltest!</p>
			`;
			document.getElementById('descriptionContent').innerHTML = descHTML;

			// Info Box
			const infoHTML = `
				<div class="info-box">
					<i class="fal fa-info-circle"></i>
					<strong>Wichtige Information</strong>
					<p style="margin-top: 10px; margin-bottom: 0;">Dieser Film ist jetzt verfügbar zum kostenlosen Streamen. Genießen Sie das volle Kinoerlebnis!</p>
				</div>
			`;
			document.getElementById('infoBoxContent').innerHTML = infoHTML;

			// Player
			let playerHTML = '';
			if (movie.googleDriveId) {
				playerHTML = `<iframe src="https://drive.google.com/file/d/${movie.googleDriveId}/preview" allow="autoplay"></iframe>`;
			} else if (movie.videoUrl) {
				playerHTML = `<iframe src="${movie.videoUrl}" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
			} else {
				playerHTML = `<p style="text-align: center; padding: 40px; color: #888;">Video nicht verfügbar</p>`;
			}
			document.getElementById('playerContent').innerHTML = playerHTML;

			// Related Movies
			const relatedMovies = MEGAKINO_MOVIES.filter(m => m.id !== movieId).slice(0, 4);
			const relatedHTML = relatedMovies.map(m => `
				<a href="${getMoviePageLink(m.id)}" class="related-card">
					<img src="${m.image}" alt="${m.title}">
					<div class="related-info">
						<div class="related-title">${m.title}</div>
						<div class="related-rating">⭐ ${m.rating}</div>
					</div>
				</a>
			`).join('');
			document.getElementById('relatedMovies').innerHTML = relatedHTML;
		}

		function getMoviePageLink(id) {
			if (id === 1) return '/werwolfe-duesterwald.html';
			if (id === 2) return '/checkertobi3.html';
			return '/megakino-new.html';
		}

		function scrollToPlayer() {
			document.getElementById('playerSection').scrollIntoView({ behavior: 'smooth' });
		}
	</script>
</body>
</html>
